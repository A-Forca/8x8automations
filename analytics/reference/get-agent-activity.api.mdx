---
id: get-agent-activity
title: "Get Agent Activity Metrics"
description: "This endpoint returns the agent activity metrics for the selected pbx, grouped by agent. The response can be further filtered by a list of queues, sites, agents, user statuses. If no date range is provided, the metrics reflect the agent activity in the last 24 hours."
sidebar_label: "Get Agent Activity Metrics"
hide_title: true
hide_table_of_contents: true
api: eJztXG1z2zYS/isY9IPbHCVTiuXY+qbETquc4/hiOcld4vFAJCShpgAGAP0Sx//9ZgHwVRQlvyTXuVqTqSUS2F3sPlgsFoveYE2mCvc/48GUco0GgWYXTF/jUw+HVAWSxZoJjvt4NGMKUR7GgnGNJNWJ5ArpGUXE9CSuJ5pTLVmg0ERI81rRiAaahigeX3loKkUS0xCNr22/NhrNKJJUxYIrigLC0ZiiSSL1jEo0YZGm0jVHEVMaiQn6mtCEKg8ppuGPoaM8lCgqkdJEJ4qqNhpOEBcoJJoiSfiUIqZQLMUFC2noGclSSSWdgIh1g2HcPI2I0qi7hWYikaqNPSxiKgloZhjiPp5S3TIdW2lH7OGYSDKnmkpQ7w3mZE5xH8fjq2GIPcxApzHRM1xV9DCEMQLXo5efgJekXxMmaYj7WibUwyqY0TnB/Rusr2OgqbRkfIpvb72MDahmGKqU0deEyusFTsdMU8RC5dTM+LSN3iaRZnFE0QWJEqpSg8REKRoiRWFU2hokEPM5cXrWroWHSBRZw4DqSYaCKbugHCCALlkUAUkLIRqWhzghkWoao4fpFZnHEVXw8pjxaSor/C6PTxXehkYoxEI3WOxh1wu/eXt5/cl/eTJ6/2o3GfBk8G3ncmJYVZSxyGEODe5H31vGtmhGg/SVdnwFOv8XNP0h1rTT7ceYszBWmL4rh3oCc/yhg3yIhMfOv6whZuqKfpqsHqY8mRtn/mEwPBi8PNjHHn55cvxv7OG9wz3s4cHHAfwYnIzenbnv716/PhgeQst3h2evBgcH2MPDww/D4yH0Py15FU2k3iOaNo/+PY2F1Mi0tg6YcTQ8fod2tv0OPOYhkaHBWkYRmdXFOHsPlpn0WTp4RBS6pFH0IG9REuikfdxGRyRgExagEZtTpOE/3wSvcSVdv/u85W+3OluVYTVRyV1A3n3k+33zr+W/8H2QsCLV6NVduI9eNXP5T9mfOMWuZT7KwxXGK5gpM13JoI9pvP2COPczXa80pDsarrdouJJEjWarcK43Wm+Z0RjXkuyRawOUtUxneqCQXDu4mJH9msRIC6RoIHiofltu1hK/knHTNzDyOvOiIv+UwmaxVx4UITUTSRQWvJ/g0TW6nFGOZMGBAJY2U6QRmbV+BEjVqumu8NpBg7fr48nfqYBoqQx1gMp4lRCU0lwCm30e3hE0ANb7QcYBYwEwGZT+fyCTKemugNlGR3cATGc5YEoS1MEl41SCS6ceLm4z1AyV/avY7uXSrRPj2d7tHsHNF/6FP3v2wbYmUSQuwUowrBllEhV4P3sGbb+jt4Yv+o728nfoO4JXLfvJvsDHvSIXVJIpfcf/EFE4BHDCPk1wZdRuPt/NPtQ1tGolHFCZtkUqpjxUSHA0E1HYRt+BskN6kSaqfCxlnszHVMLOjhXbuv7wUJjA2gTbjrikfxptN1BvJJ72B4Vne1tHe87AKE1yN9O2/eso10l9RGVAuQbV5pTj/OFdJCdBQOMHaCXtvy7tu8reRF/wqWB8+gfhYcT4tG4IjbIHiZSU6+gajSnjUzQDQo2sBhfTEYnOK8ws7mswLyZpR6Rtt5IAC7TrRmKIN9OeuW4NxBcn63L7pmSX6Ko8ZV3jGq2spN+gEjfSj5LEJ3HuVhZRWVKJJueUwxJ7KUmMkrjic5bO1Qom10Dl8vnqBFqKknrJIUW1XBtaaBIVSNUoxNI0DS1F8K8abHUXTFQdeIHe4+Giood6Hqunywj6rZgw9bSbpkuelKhHXZ3YAAGTLZ0R5fRuE51Mpupx2YvyCCy6765/QHcriRt0s0h59WxfSvW++R3GgygJ6XEynxMT/DREQsMJMtlYo8ssfW2SYYHgmrjEsbK0QOyGNDklwcyu/B4SkPi+ZIpCHm69UHUsREQJNzJOSBJpmym+vT2F3lY0E712fX8xSjxOgoAqCPxAcMo1NCFxHLHAZLg3/1TQ7maRrxjDKg2pbgn5cM0sFzPQ7CAhb06kJEarms7VajI2H1iX5ark2jj7ajKflGs2YXBq4JKU1stB0Gy+7V9pyhWzg2mmaZzpTHCKaNoJEaVEwEwAe8n0rI7DocHROsQBcWmaPyeSz+X1qAjwyJBvN31K9NCvtD1te8hl9zyUpQR/s/I6+9yFXeoaMgw38B3uHex7CHKPll8kplNYw0yaWq2Binz/VRZkUDkGKrBmClk2Jpxuu91S6htWIy4gUURlrQwkDCVMkjr/gTXTETwquC/ok+6oaviSMGTQjERHJQnK7WrGHogIjqoAj2KCLohkIlGFg6zI4NPtJYxWNhSEBRMh54QHtF0SeFCaqQ2qLvkuBodu1leCGw6pJiwyKDB+LOXqwAHbuYIAqazGOs47PqqGCh63qh4QBaRiSi/TltoojLJBWe+dW63mBwZR5PaodadFTg6T0Vg4Zgmys5ZM4Lqzleysy8K/bEI4aIzHV7iPNVX6aHyFPXMUCBOYKo3gxA97tmvBHeLtnr+7u/0ifWX9GB6xuTAHlCTR4kBMYTl0axBZYJu6a/PlrIMXnS7u+tvdTqeLS94SvxEzjvYEyFV1Ep9xx/ehfRf+nJYdZOG4ourM8OH+R7ww+dPpbc7LzAldNqvdoyNw+ZWp27Blw/0O8F7cMuK+7+HGmLXYoibiNJQbgy5DoG6rbV6Ug0Lc7/Ze7Pq+7+GFbUpRkEVO5m1NjmOF+CnT3a0XL3a8JhVWxKvbNzQrE/d9E8KV4detg1/v+fbOzu5WFX6E03Xht4CzbFE9g/WuAXIDbuI6VAM99+rnI7Db290t2qcWh03ouAcOtzu9n45Dfx0EpoLdB4EdE2k7ix3na1qj4bo/2HAPcyB/TT/R6+w+zEq35uPhrbqN0EsSovf0a0KVfshmqJIxl1LIbIO4EHLCTllpMo/XiMDTpmm8TYE09rAJrTTuYzhgbAFFnAUl2QFjp+X3Rp1u39/q93bbHd//h+/bAwVV3QGAD5saJ1UW4I/R6KgS8hfGlUnBuH7etS5MKTKtDfbLhA9clDlOFONUKaSovGCBGyHK6CzfJNx6tpZqpRKdfZFpXYzujJ2WRXVDfkEilp962LBtEUFL2hWCtoK9mw2T22ULAJ/r8nPGxcWZ6Mier3yWhIdi7nGhj5MYTsNoeNqGZcuqBm8STqJrCH03L4U837zobsbjK6o2j15+OhvunX0YHJzsb1bq2PIZ01kc7wkniZ4Jyb6ZUf6cKWNhv9LS8BZAlU2TfEYwq8AzLc6p2amZJmel/qvIF8+fKvMxZzQwmRVk+CB6FUMap4/o9ZvZ+PeAvWNvjk++DTuHbKiG/H0veDXcHp7Hnz68erNb3nps+Z0KPp1Nni/a5LWQYxaGlD/5sCcfVvBhpiTtUGg0yKfs4oSuafRQ7/W87L1M3vmzidIhCXaKQkGV2QzPyAU1p2dmyiBTKYs+W+d0Ck/m5Bxy166MgCr9iN5ta1EZoIfXIuEhqLJXFzGYAIOTCB1TeUEl2ndofpp3f+d5ZyE1p3omXHE4zlGawfLG4Pu2ikgPK4MlWzSeyAj38UzrWPU3N0nM2jtXO+1AzKtox7ADUTRIZJqP2bnaaZGYnVP4eerhMSWSSpjX8LvY/BjgaFVd7JQrPmb/pNlxyIyS0BjYHZoUutyWuWQEQH7szi3MeYVphNPWr1Prv/k4MnplfCIswK1+Pwp5jgbpgMEhUen29Dutq9ZO64BoG7Qv5qzLfdHgaJheAqhNmwaFgucsze3qhuBv5RBHcNe4/YX/8ssv6NkzcyCWFfxC2Yq9h6BLzxfvIqQpvntfSkBfvnzh9i4FxH5Z9c2UcmrLbuBYhMBxny05ym9GeOlDGiKYRlO0kdVRbZis6YarptooVGN5pXIwO4VNMViBR16sZMaf3cMIqWIyHfpGqfbLMSxUgG3UcfLQPFEaBpgoGmbq33crXt8WDCHUQiOBxNgcyBE0SaLIiOPKxSZSzFHHepC3IKVAPT1zvzxXO2VuluSVZX1kvWKv5Xfykk0jtdNSoUWhqLONFuVZW4yCTrMqMVdsC/YyBEx1oBYIyr7WkdmUlK2U27TyK6V8fVQqZCxVhvZRqWbNJPpjofScmMXPuY3fqUblK0dZ3rwyjW/y5fTpElLpEpJzr5pe6c04IszsZcyScePWm8/4AvKXZsXBHu6nt48qi86ph2dCaWh/czMmip7I6PYWHtvDb1hPQqbIOCocQy810l/nWlGtgsziVrggldZFYkgjrz/Kv9ylm4bBFq4R3XO0j3XvpkHI/P7PQ2R8rEs3KwQtXAO6p7Q/+pJME/YL13geJv0PuiPSIHt+g+Vhkv/Nrkg0aLR6veSx9Po3uEWwhlbt7Yt76vSp3P6p3H5V+e5Tuf1Tuf1Tuf1Tuf1Tuf1Tuf3/rNy+IRDK7xXeMwj6eZX2jeFc5WpAPphT+CEZjOaOiZJf37s49je08D99qZUlTcjzkgSpjDa5c3t666VJehDHvhuYVbLQa+FcypUw2TOL3/chE/9fu0/crA==
sidebar_class_name: "get api-method"
info_path: analytics/reference/work-analytics
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Get Agent Activity Metrics"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/v2/pbxes/{pbxId}/agent-activity"}
  context={"endpoint"}
>
  
</MethodEndpoint>



This endpoint returns the agent activity metrics for the selected pbx, grouped by agent. The response can be further filtered by a list of queues, sites, agents, user statuses. If no date range is provided, the metrics reflect the agent activity in the last 24 hours.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"pbxId","in":"path","description":"Id of the PBX.","required":true,"schema":{"type":"string"}},{"name":"siteIds","in":"query","description":"Site ids filtering. Multiple values can be passed separated by comma. If not passed, all sites data for the given pbx will be returned.","required":false,"schema":{"type":"string"},"examples":{"Single value":{"description":"single valued site id filter","value":"JMwyX0BUTRC9uAnuAz8wfg"},"Multiple values":{"description":"multivalued site id filter","value":"JMwyX0BUTRC9uAnuAz8wfg,JMwyX0BUTRC9uAnuAz8wfg"}}},{"name":"queueIds","in":"query","description":"Call Queue ids filtering. Multiple values can be passed separated by comma. If not passed, all queues data for the given pbx will be returned.","required":false,"schema":{"type":"string"}},{"name":"userIds","in":"query","description":"User ids filtering. Multiple values can be passed separated by comma.","required":false,"schema":{"type":"string"}},{"name":"userStatuses","in":"query","description":"User statuses filtering. Multiple values can be passed separated by comma.","required":false,"schema":{"type":"string","enum":["AVAILABLE","BUSY","DND","AWAY","AUTO_AWAY","OFFLINE","ON_CALL","INVISIBLE"]}},{"name":"startDate","in":"query","description":"Report start date in ISO 8601 standard. If startDate is entered, endDate is required as well.","required":false,"schema":{"type":"string"},"examples":{"Start date in U.S. Pacific Time time zone":{"description":"2023-06-14 start date in U.S. Pacific Time time zone","value":"2023-06-14T00:00:00-0700"},"Start date in UTC":{"description":"2023-06-14 start date in UTC","value":"2023-06-14T00:00:00Z"}}},{"name":"endDate","in":"query","description":"Report end date in ISO 8601 standard. If endDate is entered, startDate is required as well.","required":false,"schema":{"type":"string"},"examples":{"End date in U.S. Pacific Time time zone":{"description":"2023-06-15 end date in U.S. Pacific Time time zone","value":"2023-06-15T00:00:00-0700"},"End date in UTC":{"description":"2023-06-15 end date in UTC","value":"2023-06-15T00:00:00Z"}}},{"name":"intraDayStart","in":"query","description":"Report intra day start time (up to seconds) in ISO 8601 standard. If intraDayStart is entered, intraDayEnd is required as well. Report intraDayStart/intraDayEnd parameters should be passed only when report startDate/endDate are passed as well.","required":false,"schema":{"type":"string"},"examples":{"intra day start time in U.S. Pacific Time time zone":{"description":"8 AM in U.S. Pacific Time time zone","value":"08:00:00-0700"},"intra day start time in UTC":{"description":"8 AM in UTC","value":"08:00:00Z"}}},{"name":"intraDayEnd","in":"query","description":"Report intra day end time (up to seconds) in ISO 8601 standard. If intraDayEnd is entered, intraDayStart is required as well. Report intraDayStart/intraDayEnd parameters should be passed only when report startDate/endDate are passed as well.","required":false,"schema":{"type":"string"},"examples":{"intra day end time in U.S. Pacific Time time zone":{"description":"6 PM in U.S. Pacific Time time zone","value":"18:00:00-0700"},"intra day end time in UTC":{"description":"6 PM in UTC","value":"18:00:00Z"}}},{"name":"metrics","in":"query","description":"Expected metrics in response. Multiple values can be passed separated by comma.\n\n**Values allowed and their description**\n\n| Metric | Description | \n| -------| ----------- | \n| averageOnHoldInteractionsTime      | The average time an interaction spends on hold. |\n| enteredInteractions                | The number of interactions entered into the queue. |\n| rejectedInteractions               | The number of interactions rejected by the agent. |\n| missedInteractions                 | The number of interactions missed by the agent. |\n| rejectedInteractionsPercentage     | The percentage of interactions rejected by the agent. |\n| acceptedInteractions               | The number of interactions accepted by the agent. |\n| acceptedInteractionsPercentage     | The percentage of interactions accepted by the agent. |\n| ongoingHandlingInteractions        | The number of interactions currently being handled by the agent. |\n| ongoingAvgTalkingInteractionsTime  | The average time of ongoing talking interactions. |\n| ongoingAvgHandlingInteractionsTime | The average time of ongoing handling interactions. |\n| ongoingOnHoldInteractions          | The number of ongoing interactions currently on hold. |\n| ongoingTalkingInteractions         | The number of ongoing talking interactions. |\n| averageWrapUpTime                  | The average time taken to wrap up an interaction. |\n| missedInteractionsPercentage       | The percentage of interactions missed by the agent. |\n| averageTalkingInteractionsTime     | The average time of talking interactions. |\n| totalInteractionTime               | The total time spent on interactions. |\n| ongoingOnHoldInteractionsTime      | The total time of ongoing interactions currently on hold. |\n| ongoingTalkingInteractionsTime     | The total time of ongoing talking interactions. |\n| ongoingTotalHandlingInteractionsTime | The total time of ongoing handling interactions. |\n| userStatusTime                     | The total time the user has spent in their current status. |\n| ongoingWrapUpInteractionsTime      | The total time of ongoing wrap-up interactions. |\n| ongoingWrapUpInteractions          | The number of ongoing wrap-up interactions. |\n","required":false,"schema":{"type":"string"}},{"name":"includeSummary","in":"query","description":"If true, the response will contain the summary of agent activity metrics for each queue, otherwise not.","required":false,"schema":{"type":"boolean","default":true}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"agentActivity":{"type":"array","items":{"type":"object","properties":{"userId":{"type":"string","description":"Unique identifier for the agent."},"agentExtension":{"type":"string","description":"The phone extension associated with the agent."},"agentName":{"type":"string","description":"The name of the agent."},"userStatus":{"type":"string","description":"The overall status of the agent (e.g., OFFLINE, AVAILABLE)."},"activityStatus":{"type":"string","description":"The current activity status of the agent (e.g., IDLE, BUSY)."},"loggedInQueues":{"type":"array","items":{"type":"string"},"description":"A list of queues the agent is logged into."},"interaction":{"type":"object","properties":{"caller":{"type":"string"},"address":{"type":"string"}},"title":"Interaction"},"metrics":{"type":"object","additionalProperties":{"type":"object"},"description":"A collection of various metrics related to the agent's performance."}},"title":"AgentActivity"},"description":"A list of agent activities, including details of each agent's status and performance metrics."},"summary":{"type":"object","additionalProperties":{"type":"object"},"description":"A summary of various metrics and statistics related to the agents' activities."}},"title":"AgentActivityResponse"},"examples":{"All Metrics":{"description":"metrics param not passed, all call queue metrics will be returned.","value":{"queuesAgentActivity":[{"pbx":"testPbx","site":"Test Site","queueExtension":"6509967","queueName":"Timoth","autoLogin":false,"agentActivity":[{"userId":"user_1","agentExtension":"2062112","agentName":"John Doe","loggedInQueues":["1002","2002"],"userStatus":"ON_CALL","activityStatus":"NEW","interaction":{"caller":"Caller","address":"CallerPhone"},"metrics":{"ongoingHandlingInteractions":1,"acceptedInteractions":0,"ongoingOnHoldInteractionsTime":0,"ongoingTalkingInteractions":1,"ongoingWrapUpInteractionsTime":0,"rejectedInteractions":0,"userStatusTime":2579000,"averageWrapUpTime":0,"ongoingWrapUpInteractions":0,"enteredInteractions":0,"ongoingTalkingInteractionsTime":2594778,"ongoingHandlingInteractionsTime":2579000,"totalInteractionTime":0,"ongoingOnHoldInteractions":0}},{"userId":"user_2","agentExtension":"5368894","agentName":"Jane Doe","loggedInQueues":["1002","2002"],"activityStatus":"AVAILABLE_IDLE","interaction":{"caller":"Another Caller","address":"AnotherCallerPhone"},"metrics":{"ongoingHandlingInteractions":1,"acceptedInteractions":0,"ongoingOnHoldInteractionsTime":2599778,"ongoingTalkingInteractions":0,"ongoingWrapUpInteractionsTime":0,"rejectedInteractions":0,"userStatusTime":2615000,"averageWrapUpTime":0,"ongoingWrapUpInteractions":0,"enteredInteractions":0,"ongoingTalkingInteractionsTime":0,"ongoingHandlingInteractionsTime":2615000,"totalInteractionTime":0,"ongoingOnHoldInteractions":1}}],"metricsSummary":{"ongoingHandlingInteractions":2,"acceptedInteractions":0,"ongoingOnHoldInteractionsTime":2599778,"ongoingTalkingInteractions":1,"ongoingWrapUpInteractionsTime":0,"rejectedInteractions":0,"averageWrapUpTime":0,"ongoingWrapUpInteractions":0,"enteredInteractions":0,"ongoingTalkingInteractionsTime":2594778,"ongoingHandlingInteractionsTime":5195000,"totalInteractionTime":0,"ongoingOnHoldInteractions":1}}]}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","description":"Error response","properties":{"timestamp":{"type":"string","description":"Timestamp of the error","format":"date-time","example":"2023-01-05T12:04:59.100+0000"},"status":{"type":"integer","description":"HTTP status of the response","format":"int32"},"messages":{"type":"array","description":"List of business service error messages","items":{"type":"string"}},"path":{"type":"string","description":"Request path"}},"title":"ErrorResponse"},"examples":{"Invalid metrics passed":{"description":"Invalid metrics passed","value":{"timestamp":"2023-01-05T12:04:59.100+0000","status":400,"messages":["Invalid Metrics Passed [random,notSupported]."],"path":"/analytics/work/v2/pbxes/PBX_ID_VALUE/agent-activity"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","description":"Error response","properties":{"error":{"type":"string","description":"type of  error","example":"invalid_token"},"error_description":{"type":"string","description":"Description of the error","example":"Access token expired: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9."}},"title":"401ErrorResponse"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","description":"Error response","properties":{"timestamp":{"type":"string","description":"Timestamp of the error","format":"date-time","example":"2023-01-05T12:04:59.100+0000"},"status":{"type":"integer","description":"HTTP status of the response","format":"int32"},"messages":{"type":"array","description":"List of business service error messages","items":{"type":"string"}},"path":{"type":"string","description":"Request path"}},"title":"ErrorResponse"},"examples":{"User Not Authorized":{"description":"User Not Authorized","value":{"timestamp":"2023-01-05T12:04:59.100+0000","status":403,"messages":["user [user_name] does not have access to pbxId [PBX_ID] to make this request."],"path":"/analytics/work/v2/pbxes/PBX_ID_VALUE/agent-activity"}}}}}},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","description":"Error response","properties":{"timestamp":{"type":"string","description":"Timestamp of the error","format":"date-time","example":"2023-01-05T12:04:59.100+0000"},"status":{"type":"integer","description":"HTTP status of the response","format":"int32"},"messages":{"type":"array","description":"List of business service error messages","items":{"type":"string"}},"path":{"type":"string","description":"Request path"}},"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      