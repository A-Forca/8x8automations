---
id: ivr-send-callflow
title: "Send Callflow"
description: "* Note for all api request that has a source param, CLID whitelisting is mandatory, please reach out to your account manager or email cpaas-support@8x8.com if you have a voice account with 8x8 CPaaaS."
sidebar_label: "Send Callflow"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: connect/reference/voice-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Send Callflow"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/v1/subaccounts/{subaccountId}/callflows"}
  context={"endpoint"}
>
  
</MethodEndpoint>



* Note for all api request that has a source param, CLID whitelisting is mandatory, please reach out to your account manager or email cpaas-support@8x8.com if you have a voice account with 8x8 CPaaaS.

* Callflows API allows you to
  - Create an IVR flow
  - Voice Message
  - Your defined call scenarios using our callflow objects

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"subaccountId","in":"path","description":"You must replace {subaccountId} with the subaccountid that you want to use. By default this is generated once you have completed the voice onboarding.","required":true,"schema":{"maxLength":50,"minLength":3,"pattern":"^[A-Za-z0-9\\-._&]{3,50}$","type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"anyOf":[{"title":"Callflow Request","type":"object","properties":{"validUntil":{"type":"string","description":"Optional date time. format: YYYY-MM-DDTHH:MM:SS.SSSZ"},"callflow":{"type":"array","items":{"type":"object","anyOf":[{"title":"MakeCall","type":"object","properties":{"action":{"type":"string","enum":["makeCall"],"description":"makeCall enables you to create an outbound voice call to a specified destination with the caller id \nspecified as source. Once the call is answered by the receiving party, the rest of the callflow actions \nwill be executed in sequence. If two makeCall actions are used in the same callflow, the 2nd call will be\nbridged to the 1st call once answered. Currently, we do not support call conferencing, so the maximum \nallowed makeCall actions in a callflow is 2."},"params":{"type":"object","properties":{"source":{"type":"string","description":"Originator phone number. For CLIDs that have been whitelisted and CLID overwrite is enabled for the subaccount, please set the CLID as \"6588000000\".","example":"[+][country code][88000000]"},"destination":{"type":"string","description":"Destination phone number in E.164 international format.","example":"+6590000000[+][country code][subscriber number including area code]"}},"maxProperties":2,"required":["source","destination"]}}},{"title":"Say","type":"object","maxProperties":3,"properties":{"action":{"type":"string","enum":["say"],"description":"Say enables you to convert the given text into a speech and play it in the currently active call."},"params":{"type":"object","properties":{"text":{"type":"string","description":"The message body content to be converted to voice. Maximum voice message length is 3000 characters","example":"Hi, This is a test message from 8x8"},"voiceProfile":{"type":"string","description":"Choose one of the available Voice profiles to define the voice, gender and accent for the message you are sending. To see all available speech profiles, please send an API request to https://developer.8x8.com/connect/reference/get-voice-profile-information endpoint to retrieve voice profiles that 8x8 supports","example":"en-GB-Emma"},"repetition":{"type":"integer","description":"The amount of times to repeat the voice message during the call. Accepted values are 1, 2 or 3. Default value is 1 for no repeat.","example":1},"speed":{"type":"integer","description":"Reproduction speed of speech in the resulting message. Accepted values range from 0.5 - 2, as a two digit number. The default value is 1.","example":1}},"maxProperties":5,"required":["text","voiceProfile"]}}},{"title":"SayAndCapture","type":"object","properties":{"action":{"type":"string","enum":["sayAndCapture"],"description":"sayAndCapture - Plays a voice file in to the call and then captures users DTMF input and reports back the \nDTMF via Voice Call Action (VCA) webhook. https://developer.8x8.com/connect/reference/voice-call-action-webhook"},"params":{"type":"object","properties":{"promptMessage":{"type":"string","description":"The message body content to be converted to voice. Maximum voice message length is 3000 characters"},"voiceProfile":{"type":"string","description":"Choose one of the available Voice profiles to define the voice, gender and accent for the message you are sending. To see all available speech profiles, please send an API request to https://developer.8x8.com/connect/reference/get-voice-profile-information endpoint to retrieve voice profiles that 8x8 supports","example":"en-GB-Emma"},"speed":{"type":"integer","description":"Reproduction speed of speech in the resulting message. Accepted values range from 0.5 - 2, as a two digit number. The default value is 1."},"minDigits":{"type":"integer","nullable":true,"description":"min no of digits to be pressed by user before call back is triggered","default":1,"minimum":1},"maxDigits":{"type":"integer","nullable":true,"description":"max no of digits to be pressed by user before call back is triggered","default":1,"minimum":1},"digitTimeout":{"type":"integer","nullable":true,"description":"max time for dtmf tones being captured","minimum":1},"overallTimeout":{"type":"integer","nullable":true,"description":"max call duration","minimum":1,"default":5000},"completeOnHash":{"type":"boolean","nullable":true,"default":true,"description":"if the dtmf callback should be triggered on hash"},"noOfTries":{"type":"integer","nullable":true,"description":"max no of times to play message if user doesn't provide input","minimum":1,"default":1},"successMessage":{"type":"string","nullable":true},"failureMessage":{"type":"string","nullable":true}}}},"required":["promptMessage","voiceProfile"]},{"title":"PlayFile","type":"object","properties":{"action":{"type":"string","enum":["playFile"],"description":"playFile enables you to send an audio recording to an end user."},"params":{"type":"object","properties":{"fileUrl":{"type":"string","description":"url of the audio to be played in the call\n* supported protocols - http, https\n* max file size - 5120 KB\n* supported media formats - mp3, wav"},"repetition":{"type":"integer","description":"No of times to repeat the audio file content. Accepted values are 1, 2 or 3. Default is 1 (no repeat)."}},"required":["fileUrl"]}},"example":{"destination":"621234567890","fileUrl":"https://filebin.redpill-linpro.com/iy5u4qhut4urszlm/sample4.mp3","repetition":2}},{"title":"Hangup","type":"object","properties":{"action":{"type":"string","enum":["hangup"],"description":"Hangup - Disconnects all active calls. This will terminate the session, triggering the session summary webhook."}}}]}}},"default":{"validUntil":"2024-07-03T05:59:32.226Z"}}]}}},"description":"- To send a CallFlows using the 8x8 CallFlows API you need to POST a JSON object to the url defined above.\n- Additionally it is required to set either a language code or a voice profile in the request, to guarantee the correct pronunciation of the voice message. \n- The JSON object takes the following properties:\n"}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Should the request authenticate successfully and pass all validation, the response will contain an updated Voice Message Object. The following is an example response:","content":{"application/json":{"schema":{"title":"CallflowResponse","required":["sessionId","sessionStatus","callFlowRequestId","statusCode","statusMessage"],"properties":{"sessionId":{"type":"string","description":"The unique id of the callflow session.\n"},"sessionStatus":{"type":"string","description":"The status of the callflow session.\n"},"callFlowRequestId":{"type":"string","description":"The unique id of the callflow request.\n"},"validUntil":{"type":"string","format":"date-time","description":"The time until which the callflow session is valid.\n"},"statusCode":{"type":"integer","description":"The status code of the callflow session.\n"},"statusMessage":{"type":"string","description":"The status message of the callflow session.\n"}},"type":"object","description":"Response object for the callflow request.\n","example":{"sessionId":"03cc8cac-376b-11ef-a28b-0582ff0039d5","sessionStatus":"CREATED","callFlowRequestId":"03cc3e8b-376b-11ef-a28b-4dd5d900ecb3","validUntil":"2024-07-01T05:50:23.550Z","statusCode":1,"statusMessage":"Created"}},"examples":{"response":{"value":{"sessionId":"03cc8cac-376b-11ef-a28b-0582ff0039d5","sessionStatus":"CREATED","callFlowRequestId":"03cc3e8b-376b-11ef-a28b-4dd5d900ecb3","statusCode":1,"statusMessage":"Created"}}}}}},"400":{"description":"","content":{"application/json":{"schema":{"title":"CallflowErrorResponse","required":["sessionStatus","callFlowRequestId","statusCode","statusMessage"],"properties":{"sessionStatus":{"type":"string","description":"The status of the callflow session.\n"},"callFlowRequestId":{"type":"string","description":"The unique id of the callflow request.\n"},"statusCode":{"type":"integer","description":"The status code of the callflow session.\n"},"statusMessage":{"type":"string","description":"The status message of the callflow session.\n"}}},"examples":{"response":{"value":{"sessionStatus":"NOT_CREATED","callFlowRequestId":"c6e6dee5-3846-11ef-9e95-b903e2ed7273","statusCode":-1007,"statusMessage":"$.callflow[0].action should be one of: say,playFile,sayAndCapture"}}}}}},"401":{"description":"","content":{"application/json":{"schema":{"title":"CallflowErrorResponse","required":["sessionStatus","callFlowRequestId","statusCode","statusMessage"],"properties":{"sessionStatus":{"type":"string","description":"The status of the callflow session.\n"},"callFlowRequestId":{"type":"string","description":"The unique id of the callflow request.\n"},"statusCode":{"type":"integer","description":"The status code of the callflow session.\n"},"statusMessage":{"type":"string","description":"The status message of the callflow session.\n"}}},"examples":{"response":{"value":{"sessionStatus":"NOT_CREATED","callFlowRequestId":"fd2fc658-3845-11ef-9e95-b903e2ed7273","statusCode":401,"statusMessage":"Authentication header not found or token invalid"}}}}}},"404":{"description":"","content":{"application/json":{"schema":{"title":"CallflowErrorResponse","required":["sessionStatus","callFlowRequestId","statusCode","statusMessage"],"properties":{"sessionStatus":{"type":"string","description":"The status of the callflow session.\n"},"callFlowRequestId":{"type":"string","description":"The unique id of the callflow request.\n"},"statusCode":{"type":"integer","description":"The status code of the callflow session.\n"},"statusMessage":{"type":"string","description":"The status message of the callflow session.\n"}}},"examples":{"response":{"value":{"sessionStatus":"NOT_CREATED","callFlowRequestId":"9e209996-3845-11ef-9e95-b903e2ed7273","statusCode":404,"statusMessage":"SubAccount not found by Id : 8x8_Testing"}}}}}},"422":{"description":"","content":{"application/json":{"schema":{"title":"CallflowErrorResponse","required":["sessionStatus","callFlowRequestId","statusCode","statusMessage"],"properties":{"sessionStatus":{"type":"string","description":"The status of the callflow session.\n"},"callFlowRequestId":{"type":"string","description":"The unique id of the callflow request.\n"},"statusCode":{"type":"integer","description":"The status code of the callflow session.\n"},"statusMessage":{"type":"string","description":"The status message of the callflow session.\n"}}},"examples":{"response":{"value":{"sessionStatus":"NOT_CREATED","callFlowRequestId":"767ca1b8-3846-11ef-9e95-b903e2ed7273","statusCode":-1013,"statusMessage":"Invalid Callflow : First action should be a MakeCall action"}}}}}},"500":{"description":"","content":{"application/json":{"schema":{"title":"CallflowErrorResponse","required":["sessionStatus","callFlowRequestId","statusCode","statusMessage"],"properties":{"sessionStatus":{"type":"string","description":"The status of the callflow session.\n"},"callFlowRequestId":{"type":"string","description":"The unique id of the callflow request.\n"},"statusCode":{"type":"integer","description":"The status code of the callflow session.\n"},"statusMessage":{"type":"string","description":"The status message of the callflow session.\n"}}},"examples":{"response":{"value":{"sessionStatus":"NOT_CREATED","callFlowRequestId":"767ca1b8-3846-11ef-9e95-b903e2ed7273","statusCode":500,"statusMessage":"Internal server error"}}}}}}}}
>
  
</StatusCodes>


      